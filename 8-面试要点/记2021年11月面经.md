# 记2021年11月面经

## 1、个人背景

本科（普通一本-信息与计算科学）毕业，非全日制研究生在读（普通一本-计算机技术），2018年开始工作至今3年多java开发经验。

## 2、环境背景

2021年10月18日通知裁员，在女朋友的帮助下闭关一星期算法，每天学习到2点（哭）。

2021年10月21日收到百度口头offer，等待两周hc被砍，之后重新开始面试。

2021年11月9日百度捞简历，11月10日现场完成4面，11月11日收到口头offer，11月12日收到正式offer。

2021年11月8日，字节电商面试，一面挂。

2021年11月9日，11月11日，字节番茄小说，二面挂。

2021年11月17日，字节抖音直播，四面过，11月19号收到正式offer。

## 3、面试内容

因为面试实在太多而且较为相似，所以不做每次面试的区分，只做知识点的提炼。

### 3.1 java

1、Spring特性→IOC、AOP实现原理和实现过程→介绍反射→循环依赖如何解决→bean生命周期

2、Spring启动过程

3、SpringBoot启动过程

4、Spring事务传播机制

5、介绍什么是锁→实现原理→Synchronized和ReentrantLock做对比（底层实现区别、锁膨胀机制、ReentrantLock公平锁实现原理（AQS原理）、锁实现原理（CAS）、锁占用过程（对象头结构、值变化））→适用场景→性能对比

6、介绍CountDownLatch

7、介绍原子类→CAS的ABA问题

8、类加载过程→如何打破双亲委派

9、java两种代理模式区别（JDK和CGLIB）

10、手动创建连接池每个参数的意义→假如单个线程执行时间无限长，一直往线程池加任务，内部执行过程→线程饥饿

11、死锁条件→分别的解决方式

12、强引用、弱引用、软引用和虚引用区别

13、内存泄漏、内存溢出区别和实际遇到后如何处理

14、使用synchronized修饰静态方法、非静态方法、对象、类有什么区别

15、HashMap1.7和1.8底层实现区别，扩容区别，解决了什么bug，并发下可能的问题

16、ConcurrentHashMap底层实现原理(JDK1.7 & 1.8)，底层实现区别，扩容区别，解决了什么bug

17、ArrayList和LinkedList区别（增删改查和占用空间）

18、SpringCloud组件→实现原理→选型区别、性能区别

### 3.2 mysql

1、以innodb为例，介绍mysql→聚簇索引和非聚簇索引

2、B+树特点→为什么不选用B树或者二叉树→横向比较优劣

3、每种索引各有什么特点和使用场景和注意事项

4、遇到慢sql如何优化（查执行计划、sql语句、索引命中、合理索引设计、合理的表设计、合理的业务设计、合理的分库分表）→是什么时候会索引失效

5、ACID是什么→mysql是如何保证ACID的

6、数据库隔离级别有什么→分别有什么问题→mysql默认隔离级别是什么（可重复读）→解决了什么问题（幻读）→如何解决的（MVCC）

7、介绍MVCC是如何实现的→binlog、redolog、undolog是什么→有什么用→什么时候用到

8、sql语句需要注意什么

9、长表深分页如何优化

10、集群如何保证数据一致性

11、共享锁和排它锁和间隙锁是如何实现的

### 3.3 redis

1、redis是什么→在哪用的redis→为什么要用，解决了什么问题

2、redis五个常见类型的底层数据结构→分别适用于什么场景→需要注意什么

3、分布式锁如何实现（Redisson或zk）→原理和优势→什么场景下使用→潜在问题→如何解决

4、删除策略

5、redis是单线程还是多线程（6.0版本以后支持多线程）→从内到外都是单线程吗（IO多路复用机制）→6.0后多线程指的是什么

6、BIO、NIO、AIO是什么

7、缓存击穿、缓存穿透、缓存雪崩是什么→解决方案

8、bitmap是什么→布隆过滤器实现原理

9、如何保证双写一致性

10、还了解其他数据结构么

### 3.4 mongodb

1、mongodb是什么→优势和劣势是什么→项目中选型依据是什么

2、底层数据结构是什么（B树）→优势劣势是什么→和mysql比较优劣势是什么→什么场景下怎么选型，各自的依据

3、介绍mongodb索引

### 3.5 es

1、项目中选型依据是什么→es特点

2、es底层是什么→什么是倒排索引→和普通索引有什么区别→优势劣势是什么

3、怎么索引优化→分片策略

4、查询过程是什么→写入过程是什么→删除过程是什么→修改过程是什么

5、ETL相关工具使用过么→有什么要注意的

6、分布式一致性原理

### 3.6 计算机基础

1、网络七层模型、五层模型→DNS在哪层→TCP、IP在哪层

2、浏览器输入www.google.com发生了什么

3、linux中cpu占用、硬盘占用、内存占用命令→日志查看命令→常见命令

4、raid机制

### 3.7 mq

1、常见mq横向对比

2、kafka底层数据结构→为什么快（零拷贝）→数据如何保证不丢失（ack机制）→如何保证不重复消费→如何保证消息高可用→生产消费过程是什么→如果想保证顺序消费应该怎么办

### 3.8 项目

1、介绍项目→介绍主业务→介绍数据流向→介绍技术选型

2、介绍一个复杂业务场景，叙述难点和如何解决

3、技术选型依据、限制、业务扩大10倍或者100倍应该怎么优化架构（mongodb能存的数据为什么要存到mysql，mongodb和mysql选型业务场景的依据是什么，各个中间件选型依据）

### 3.9 算法

先讲思路，然后写算法，要会算TC（时间复杂度）和MC（空间复杂度），如果写出来不是最优解会引导你优化。

1、二分查找

​	经典二分、第一次/最后一次出现的元素、有序数组中最近元素、寻找峰值

2、链表

​	反转链表（迭代、递归）、链表中点、合并有序链表、从链表中点拆分链表、旋转链表

3、数组

​	最长无重复子数组、合并两个有序数组、两数之和、三数之和、合并区间、缺失的第一个正数、下一个排列、数组中最长连续子序列

4、树

​	前/中/后/层序遍历、最小公共祖先、路径总和1/2/3/4、二叉树镜像、二叉树转换成有序的双向链表、二叉树的最大深度、用前序和中序构造二叉树

5、动态规划

​	切绳子、零钱兑换、01背包、组成的最大整数、完全平方数、最大连续子序列、最长递增子序列、最长公共子序列、不同路径1/2

6、递归

​	斐波那契序列

7、广度优先

​	从上到下打印二叉树、蛇形打印二叉树

8、深度优先

​	所有子数组、硬币所有组合方式、组合总和

9、排序

​	冒泡、选择、插入、归并、快速、堆

10、栈

​	两个栈实现一个队列

11、股票买卖问题

​	股票一次买卖、股票多次买卖、股票两次买卖、股票最多k次买卖、股票多次买卖有一天冷冻期、股票多次买卖有手续费

12、字符串

​	大数加法、最长回文子串、字符串相乘、Z字形变幻

13、滑动窗口问题

​	最小长度覆盖子串
