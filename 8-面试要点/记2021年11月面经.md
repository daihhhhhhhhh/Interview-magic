# 记2021年11月面经

## 1、个人背景

本科（普通一本-信息与计算科学）毕业，非全日制研究生在读（普通一本-计算机技术），2018年开始工作至今3年多java开发经验。

## 2、环境背景

2021年10月18日，通知裁员，在女朋友的帮助下闭关一星期算法，每天学习到2点（哭）。

2021年10月21日，收到百度口头offer，等待两周hc被砍，之后重新开始面试。

2021年11月9日，百度捞简历，11月10日现场完成4面，11月11日收到口头offer，11月12日收到正式offer。

2021年11月8日，字节电商面试，一面挂。

2021年11月9日，11月11日，字节番茄小说，二面挂。

2021年11月17日，字节抖音直播，四面过，11月19号收到正式offer。

## 3、面试内容

因为面试实在太多而且较为相似，所以不做每次面试的区分，只做知识点的提炼。

### 3.1 java

1、Spring特性→IOC、AOP实现原理和实现过程→介绍反射→循环依赖如何解决→bean生命周期

2、Spring启动过程

3、SpringBoot启动过程

4、Spring事务传播机制

5、介绍什么是锁→实现原理→Synchronized和ReentrantLock做对比（底层实现区别、锁膨胀机制、ReentrantLock公平锁实现原理（AQS原理）、锁实现原理（CAS）、锁占用过程（对象头结构、值变化））→适用场景→性能对比

6、介绍CountDownLatch

7、介绍原子类→CAS的ABA问题

8、类加载过程→如何打破双亲委派

9、java两种代理模式区别（JDK和CGLIB）

10、手动创建连接池每个参数的意义→假如单个线程执行时间无限长，一直往线程池加任务，内部执行过程→线程饥饿

11、死锁条件→分别的解决方式

12、强引用、弱引用、软引用和虚引用区别

13、内存泄漏、内存溢出区别和实际遇到后如何处理

14、使用synchronized修饰静态方法、非静态方法、对象、类有什么区别

15、HashMap1.7和1.8底层实现区别，扩容区别，解决了什么bug，并发下可能的问题

16、ConcurrentHashMap底层实现原理(JDK1.7 & 1.8)，底层实现区别，扩容区别，解决了什么bug

17、ArrayList和LinkedList区别（增删改查和占用空间）

18、SpringCloud组件→实现原理→选型区别、性能区别

### 3.2 mysql

1、以innodb为例，介绍mysql→聚簇索引和非聚簇索引

2、B+树特点→为什么不选用B树或者二叉树→横向比较优劣

3、每种索引各有什么特点和使用场景和注意事项

4、遇到慢sql如何优化（查执行计划、sql语句、索引命中、合理索引设计、合理的表设计、合理的业务设计、合理的分库分表）→是什么时候会索引失效

5、ACID是什么→mysql是如何保证ACID的

6、数据库隔离级别有什么→分别有什么问题→mysql默认隔离级别是什么（可重复读）→解决了什么问题（幻读）→如何解决的（MVCC）

7、介绍MVCC是如何实现的→binlog、redolog、undolog是什么→有什么用→什么时候用到

8、sql语句需要注意什么

9、长表深分页如何优化

10、集群如何保证数据一致性

11、共享锁和排它锁和间隙锁是如何实现的

### 3.3 redis

1、redis是什么→在哪用的redis→为什么要用，解决了什么问题

2、redis五个常见类型的底层数据结构→分别适用于什么场景→需要注意什么

3、分布式锁如何实现（Redisson或zk）→原理和优势→什么场景下使用→潜在问题→如何解决

4、删除策略

5、redis是单线程还是多线程（6.0版本以后支持多线程）→从内到外都是单线程吗（IO多路复用机制）→6.0后多线程指的是什么

6、BIO、NIO、AIO是什么

7、缓存击穿、缓存穿透、缓存雪崩是什么→解决方案

8、bitmap是什么→布隆过滤器实现原理

9、如何保证双写一致性

10、还了解其他数据结构么

### 3.4 mongodb

1、mongodb是什么→优势和劣势是什么→项目中选型依据是什么

2、底层数据结构是什么（B树）→优势劣势是什么→和mysql比较优劣势是什么→什么场景下怎么选型，各自的依据

3、介绍mongodb索引

### 3.5 es

1、项目中选型依据是什么→es特点

2、es底层是什么→什么是倒排索引→和普通索引有什么区别→优势劣势是什么

3、怎么索引优化→分片策略

4、查询过程是什么→写入过程是什么→删除过程是什么→修改过程是什么

5、ETL相关工具使用过么→有什么要注意的

6、分布式一致性原理

### 3.6 计算机基础

1、网络七层模型、五层模型→DNS在哪层→TCP、IP在哪层

2、浏览器输入www.google.com发生了什么

3、linux中cpu占用、硬盘占用、内存占用命令→日志查看命令→常见命令

4、raid机制

### 3.7 mq

1、常见mq横向对比

2、kafka底层数据结构→为什么快（零拷贝）→数据如何保证不丢失（ack机制）→如何保证不重复消费→如何保证消息高可用→生产消费过程是什么→如果想保证顺序消费应该怎么办

### 3.8 项目

1、介绍项目→介绍主业务→介绍数据流向→介绍技术选型

2、介绍一个复杂业务场景，叙述难点和如何解决

3、技术选型依据、限制、业务扩大10倍或者100倍应该怎么优化架构（mongodb能存的数据为什么要存到mysql，mongodb和mysql选型业务场景的依据是什么，各个中间件选型依据）

### 3.9 算法

先讲思路，然后写算法，要会算TC（时间复杂度）和MC（空间复杂度），如果写出来不是最优解会引导你优化。

1、二分查找

​	经典二分、第一次/最后一次出现的元素、有序数组中最近元素、寻找峰值

2、链表

​	反转链表（迭代、递归）、链表中点、合并有序链表、从链表中点拆分链表、旋转链表

3、数组

​	最长无重复子数组、合并两个有序数组、两数之和、三数之和、合并区间、缺失的第一个正数、下一个排列、数组中最长连续子序列

4、树

​	前/中/后/层序遍历、最小公共祖先、路径总和1/2/3/4、二叉树镜像、二叉树转换成有序的双向链表、二叉树的最大深度、用前序和中序构造二叉树

5、动态规划

​	切绳子、零钱兑换、01背包、组成的最大整数、完全平方数、最大连续子序列、最长递增子序列、最长公共子序列、不同路径1/2

6、递归

​	斐波那契序列

7、广度优先

​	从上到下打印二叉树、蛇形打印二叉树

8、深度优先

​	所有子数组、硬币所有组合方式、组合总和

9、排序

​	冒泡、选择、插入、归并、快速、堆

10、栈

​	两个栈实现一个队列

11、股票买卖问题

​	股票一次买卖、股票多次买卖、股票两次买卖、股票最多k次买卖、股票多次买卖有一天冷冻期、股票多次买卖有手续费

12、字符串

​	大数加法、最长回文子串、字符串相乘、Z字形变幻

13、滑动窗口问题

​	最小长度覆盖子串

### 3.10 学习路线

#### 3.10.1 社招

社招的核心竞争力是项目经验和对技术的理解，所以在面试的时候要把这两点尽最大可能去发挥。

1、项目

在准备面试时将目光锁定在一个项目上，按照整体架构、业务逻辑和数据流向进行梳理分析。

最好产出一个架构图，包含架构分层，技术选型，选型依据，高可用架构，容灾机制等。

选取一个复杂业务逻辑输出一个流向图，包含模块划分逻辑，比如领域驱动、业务驱动、数据驱动、数据库驱动（狗头）。

数据流向输出一个流向图，和业务结合起来介绍如何处理，如何保证接口幂等性，如何保证数据最终一致性，如何保证数据处理的高效等。

2、技术

在项目准备的过程中，肯定会涉及到众多分布式、中间件、高可用等技术点，针对这些技术点转化成属于你的一套成熟的技术栈，比如springcloud（gateway，nacos，feign，hystrix）、oauth2、mysql、mongo、es、redis、kafka等等，然后针对这些组件展开技术点的深挖，因为你可以说是自己常用组件，如果这时候面试官非要问你rabbitmq相关，你可以直接说不熟悉，转而说我用过kafka，然后再开始深聊（如果你了解一些rabbitmq，甚至可以横向展开，技术广度和深度都有所体现了）。总之要给所有组件一个平替的熟悉的答案，这样不但易于准备，而且体现有自己的思考。

3、表达

其实工作经验相仿的人实际开发水平都是大差不差，对于程序员来说更大的瓶颈其实是表达。

**把话说明白**，**让别人理解**，**让别人认同**难度是逐级递增而在职场中又必须努力达成的。

但是这恰恰是大多程序员一生之敌，我遇到过太多说不明白话的同事，交流成本无限制增加，尤其在面试中十分吃亏。

所以梳理思路，学习表达，顺畅的把脑子里的东西输出出来是要单独练习的。

对此，我有几个招你可以试试：

​	一开始你可以对着镜子，看着自己尝试大一些声音做自我介绍

​	然后尝试把这段介绍录音，之后再自己review，很多时候自己听一遍就能发现大多数问题

​	如果自己觉得问题不大可以找熟悉的人，让他听一听，给一些建议，反馈的核心是问他：**我说话听起来舒服吗？有不适感吗？条理清晰吗？有没有不自觉的语速加快或变慢？**

​	个人练习差不多之后可以开始找不想去的公司练习面试，找找面试的感觉，然后再逐步正式投递向往的公司。

#### 3.10.2 校招

校招的核心竞争力是学历背景和个人潜力，所以在面试的时候要把这两点尽最大可能去发挥。

1、学历背景

名校出身是一大优势，但是不代表全部，你更应该表现出在学校是一个积极参与研究，讨论，在生活和项目中是一个活跃分子，并且有一定的产出物，比如论文，参与重大项目，尽量往把自己包装成一个积极上进的乖宝宝的形象，不要怕显的自己幼稚，很多时候恰恰是这份幼稚才更会让面试官觉得你是个有意思的小孩儿。

不是名校出身意味着你的学校不能帮助你太多，但是并不意味着你没有机会，你需要的是更扎实的基础，更成熟的思考，更完善的项目，尽量用社招的要求去要求自己，这样才能更好的补足你和名校出身竞争者的差距。

2、个人潜力

个人潜力是一个听起来很玄的东西，但其实完全是可以量化的。

我认为一个人是否有潜力可以从以下几点判断：

①**愿意交流**，有强烈的表达意愿

②**能够倾听**，能够静下来听进去别人的观点

③**不盲从**，有思考，别人的意见要认真倾听，但是也要注意筛选和甄别，加以自己的思考，凝练成更加成熟的意见再加以表达出来

④**沉稳**，年轻人年轻气盛很容易骄傲和自负，这点其实很好，说明你取得了一些成就，但是做事的时候一定能沉得下来，浮躁的心态，轻浮的作风会让人对你的评价急转直下

⑤**能够自驱**，当没有人给你指引的时候你可以给自己派活，驱使自己不断前进

⑥**热爱折腾**，活力是一切的生产力，懒得动，懒得思考，懒得前进的人绝不是一个有潜力的人，不断折腾，不甘停滞，不怕碰壁撞墙，能野性成长才有无限可能

校招看重的更多是基础知识的掌握，对软件工程的开发有初步认知，对行业和技术有一定的了解，对某个技术有一定深度的理解和应用，对数据结构和算法思想有一定深度的理解。

建议路线：**数据结构**（基础思想）→**Java SE**（基础语法）→**CRM单体项目**（CRUD基本功）→**springcloud搭建简单分布式项目**（熟悉分布式思想）→**springcloud + redis + mysql + mq简单商业项目的复刻**（目的在于构建一个复杂业务场景并给予解决方案，从中包含自己对技术和业务的理解）→算法（参考3.9按照专题进行练习更有针对性，主要是理解思想）

### tips

字节面试绝大多数后端岗位都是go，所以面试官一部分是java转go，一部分是不会java，当你是java开发身份去面是有一定概率不问java或者只问基础八股的。

会死磕项目实现过程，涉及到的中间件会死问底层和选型依据，二面三面大概率会出场景设计题，比如设计一个站内信系统，遇到极端业务的情况如何解决。

算法用飞书面试，写完会让你跑几个Corner case，难度会比用牛客网面试跑几百个测试用例低一些，但是算法如果跑不通，基本凉一半，哪怕你前面有各种优秀表现，算法实现思路都说出来了。

### 后记

​	裁员既是危机也是机遇，我也算是因祸得福，虽然中间过程很艰难和坎坷，但是只要你尽全力去做，努力做到当前状况下能做到的最好，那么结果不会太差，可能现在看不到回报或者转机，但是只要坚持下去，成功和收获一定会来的，只是可能慢一点点（引自女朋友）。

​	大家都是普通人，有的人在努力向上，而大多数人只会不断感叹命运不公和羡慕别人取得成就。我虽然普通，但是我想做那个一直努力向上的人，尽管会比天才慢，没他们跑的远，但是我相信多挣扎一些，总会离我的梦想更近一些。

​	这就是我一个初入大厂的普通人的一个月总结，接下来就是在大厂中生存和厮杀了。

​	折腾吧，少年！



欢迎找我唠嗑和交流（内推），记得注明来意哦~

<img src="https://github.com/daihhhhhhhhh/Interview-magic/blob/master/8-%E9%9D%A2%E8%AF%95%E8%A6%81%E7%82%B9/fbec0e352be3c75f0a03f10fb96b0d5.jpg?raw=true" style="zoom:25%;" />

如果你觉得我写的文字对你稍稍有那么一点点帮助，可以请我喝瓶快乐水或者不加糖的拿铁_(:з」∠)_

<img src="https://github.com/daihhhhhhhhh/Interview-magic/blob/master/8-%E9%9D%A2%E8%AF%95%E8%A6%81%E7%82%B9/4b40c8dbadab4b342c8c52de663b8fd.jpg?raw=true" style="zoom:25%;" />

<img src="https://github.com/daihhhhhhhhh/Interview-magic/blob/master/8-%E9%9D%A2%E8%AF%95%E8%A6%81%E7%82%B9/a191c1cd014ac6e51f2071016dc9e13.jpg?raw=true" style="zoom:25%;" />
